!function(t){function n(n,e){var a=parseInt(n.width()/e.minItems*100)/n.width();t("li",n).each(function(){t(this).css({width:a+"%"})})}function e(t){return parseInt(t.css("left"))}function a(n){var e=t("li",n).width()+1;n.liArrow='<div class="cur_on" style="width: '+e+'px"></div>',n.parent().append(n.liArrow)}function i(n,e){t("li",n).eq(e.onItem).children("a").addClass("on");t("li",n).width();t("li",n).on(e.changeMode,function(){n.currentIndex!=t("li",n).index(t(this))&&(n.currentIndex=t("li",n).index(t(this)),t("li a",n).removeClass("on"),t(this).children("a").addClass("on"),e.callBack(n.currentIndex,n.myScroll))})}function r(t){t.bind("touchstart",function(n){var a=n.originalEvent.touches[0];t.startLeft=e(t),t.startX=a.pageX,t.css({"-webkit-transition-duration":"0"}),t.touchStartTime=(new Date).getTime()})}function o(t){t.bind("touchmove",function(n){var e=n.originalEvent.touches[0];if(t.endX=e.pageX,t.sliding||(t.sliding=!0),t.startX>t.endX)t.css("left","-"+(t.startX-t.endX-t.startLeft)+"px"),t.slidingLeft=!0;else{var a=t.endX-t.startX+t.startLeft;t.css("left",a+"px"),t.slidingLeft=!1}})}function l(n){n.bind("touchend",function(){var a=e(n);n.columnWidth=t("li a",n).width(),n.objWidth=t("li a",n).length*n.columnWidth,n.parentWidth=n.parent().width(),n.parentWidth>n.objWidth&&(s(n,0,"0.5s"),n.startX=null),a>0?(s(n,0,"0.5s"),n.startX=null):Math.abs(a)+n.parentWidth>n.objWidth?(s(n,"-"+(n.objWidth-n.parentWidth),"0.5s"),n.startX=null):(s(n,0,"0.5s"),n.startX=null)})}function s(t,n,e){t.css({left:n+"px","-webkit-transition-property":"left","-webkit-transition-duration":e})}function c(n,e){t(".tab_content").width(t(window).width()),t(".tab_item").width(t(".tab_content").width()*e.length),t.each(e,function(n){var a=t(this).width()*n;t(this).css({left:a}),t(this).attr("id","tab_con0"+n),console.log(n),t(e).height(t(".tab_content_container").height());var i="xScroll0"+n;i=new IScroll("#tab_con0"+n,{scrollbars:!0,mouseWheel:!0,interactiveScrollbars:!0,shrinkScrollbars:"scale",fadeScrollbars:!0})}),n.myScroll=new IScroll(".tab_content_container",{scrollX:!0,momentum:!1,snap:".tab_content",snapSpeed:400,keyBindings:!0});var a=t(".tab_header li").width();n.myScroll.on("scrollEnd",function(){t(".tab_header li a").removeClass("on"),t(".tab_header li").eq(n.myScroll.currentPage.pageX).children("a").addClass("on"),t(".cur_on").css({transform:"translate("+n.myScroll.currentPage.pageX*a+"px)",transition:"100ms"})}),document.addEventListener("touchmove",function(t){t.preventDefault()},!1)}function d(n){t(n).data("currentIndex",0),t(n).data("startLeft",0),t(n).data("startX",0),t(n).data("endX",0),t(n).data("myScroll")}t.fn.lt_tab=function(e){var s=t.extend({},t.fn.lt_tab.defaults,e);return this.each(function(){var e=t(".tab_header ul",t(this));e.opts=s;var h=t(this);d(e),n(e,s),i(e,s,h),r(e,s),o(e,s),l(e,s),a(e);var u=t(".tab_content_container .tab_content",t(this));c(e,u,s)})},t.fn.lt_tab.defaults={minItems:3,onItem:0,changeMode:"click",callBack:function(){}}}(jQuery);